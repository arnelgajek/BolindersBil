
<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Index</title>
</head>
<body>

    <p>In the Index View</p>
    <div class="container-fluid">
        <div class="row">

            <div id="SearchBar">
                <div class="input-group mb-3" style="margin: 2em">
                    <div class="input-group-prepend">
                        <input type="text" class="form-control" aria-label="Text input with checkbox">
                    </div>
                    <div class="input-group-prepend">
                        <div class="input-group-text">
                            <input type="checkbox" aria-label="Checkbox for following text input">
                        </div>
                    </div>
                    <div class="input-group-prepend">
                        <div class="input-group-text">
                            <input type="checkbox" aria-label="Checkbox for following text input">
                        </div>
                    </div>
                    <input type="search" class="btn btn-light" value="Sök" style="margin: 2em" />
                </div>
            </div>

            @*Newsfeed*@
            <div class="offset-9">

                @{
                    var newsApiClient = new NewsApiClient("8a9c9b8aa9bb4c01ab3ea332452176af");
                    var articleResponse = newsApiClient.GetEverything(new EverythingRequest
                    {
                        Q = "Car",
                        SortBy = SortBys.PublishedAt,
                        Language = Languages.EN,
                        Sources = { "the-new-york-times" }

                    });

                    if (articleResponse.Status == Statuses.Ok)
                    {
                        foreach (var article in articleResponse.Articles.Take(3))
                        {

                            <div class="card-group col-9" style="margin: 1em;">
                                <div class="card">
                                    <div class="card-header">
                                        <h5 class="card-title">
                                            @article.Title
                                        </h5>
                                    </div>
                                    <div class="card-body">

                                        <i class="card-text">
                                            @SubStringCut.ShortenString(article.Description, 40)<a>... </a><u><a target="_blank" href="@article.Url">Läs mer</a></u>
                                        </i>

                                    </div>
                                    <div class="card-footer">
                                        @article.PublishedAt?.ToString("dd/MM/yyyy")
                                    </div>
                                </div>
                            </div>

                        }

                    }
                    else
                    {
                        <strong>Statusen är inte OK</strong>
                    }
                }
            </div>
        </div>
    </div>

</body>
</html>
